# Services Context

이 폴더는 비즈니스 로직과 외부 서비스 연동 모듈을 포함합니다.

## 모듈 목록

### auth.py — 인증 의존성
- **Purpose:** JWT 토큰으로 현재 로그인 유저를 식별하는 FastAPI 의존성
- **핵심 함수:** `get_current_user(credentials, db) → User`
- **동작:** Authorization 헤더에서 Bearer 토큰 추출 → JWT 검증 → DB에서 유저 조회
- **사용처:** 모든 보호된 라우터 엔드포인트에서 `Depends(get_current_user)`로 주입

### jwt.py — JWT 토큰 관리
- **Purpose:** JWT 토큰 생성 및 검증
- **핵심 함수:**
  - `create_access_token(user_id) → str` — 토큰 생성 (HS256, 7일 만료)
  - `verify_access_token(token) → int | None` — 토큰 검증, user_id 반환
- **Payload:** `{ "sub": "<user_id>", "exp": "<만료시간>" }`

### kakao.py — 카카오 OAuth API
- **Purpose:** 카카오 OAuth2 토큰 교환 및 유저 정보 조회
- **핵심 함수:**
  - `get_kakao_access_token(code) → str` — 인가코드 → 카카오 access_token
  - `get_kakao_user_info(access_token) → dict` — access_token → 유저 정보 (kakao_id, nickname, profile_image)
- **외부 API:**
  - Token: `https://kauth.kakao.com/oauth/token`
  - User Info: `https://kapi.kakao.com/v2/user/me`
